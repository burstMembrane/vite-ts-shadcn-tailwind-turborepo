#!/usr/bin/env sh

# Typecheck packages changed since main branch
pnpm typecheck --filter="...[origin/main]" --output-logs=errors-only

# Check for unused dependencies and exports
pnpm knip

# Build only changed shared packages (with their dependencies)
pnpm build --filter="@repo/lib...[origin/main]" --filter="@repo/ui...[origin/main]" --output-logs=errors-only
